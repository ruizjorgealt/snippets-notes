
    <!DOCTYPE html>
    <html>
    <head>
      <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <!-- common.css -->
      <style>* {-webkit-tap-highlight-color: rgba(0,0,0,0);}html {-webkit-text-size-adjust: none;}body {font-family: -apple-system, Helvetica, Arial, sans-serif;margin: 0;padding: 20px;color: #333;word-wrap: break-word;}h1, h2, h3, h4, h5, h6 {line-height: 1.1;}img {max-width: 100% !important;height: auto;}blockquote {margin: 0;padding: 0 15px;color: #777;border-left: 4px solid #ddd;}hr {background-color: #ddd;border: 0;height: 1px;margin: 15px 0;}code {font-family: Menlo, Consolas, 'Ubuntu Mono', Monaco, 'source-code-pro', monospace;line-height: 1.4;margin: 0;padding: 0.2em 0;font-size: 90%;background-color: rgba(0,0,0,0.04);border-radius: 3px;}pre > code {margin: 0;padding: 0;font-size: 100%;word-break: normal;background: transparent;border: 0;}ol {list-style-type: decimal;}ol ol, ul ol {list-style-type: lower-latin;}ol ol ol, ul ol ol, ul ul ol, ol ul ol {list-style-type: lower-roman;}table {border-spacing: 0;border-collapse: collapse;margin-top: 0;margin-bottom: 16px;}table th {font-weight: bold;}table th, table td {padding: 6px 13px;border: 1px solid #ddd;}table tr {border-top: 1px solid #ccc;}table tr:nth-child(even) {background-color: #f8f8f8;}input[type="checkbox"] {cursor: default;margin-right: 0.5em;font-size: 13px;}.task-list-item {list-style-type: none;}.task-list-item+.task-list-item {margin-top: 3px;}.task-list-item input {float: left;margin: 0.3em 1em 0.25em -1.6em;vertical-align: middle;}#tag-field {margin: 8px 2px 10px;}#tag-field .tag {display: inline-block;background: #cadff3;border-radius: 4px;padding: 1px 8px;color: black;font-size: 12px;margin-right: 10px;line-height: 1.4;}</style>
      <!-- ace-static.css -->
      <style>.ace_static_highlight {white-space: pre-wrap;}.ace_static_highlight .ace_gutter {width: 2em;text-align: right;padding: 0 3px 0 0;margin-right: 3px;}.ace_static_highlight.ace_show_gutter > .ace_line {padding-left: 2.6em;}.ace_static_highlight .ace_line {position: relative;}.ace_static_highlight .ace_gutter-cell {-moz-user-select: -moz-none;-khtml-user-select: none;-webkit-user-select: none;user-select: none;top: 0;bottom: 0;left: 0;position: absolute;}.ace_static_highlight .ace_gutter-cell:before {content: counter(ace_line, decimal);counter-increment: ace_line;}.ace_static_highlight {counter-reset: ace_line;}</style>
      <style>.ace-chrome .ace_gutter {background: #ebebeb;color: #333;overflow : hidden;}.ace-chrome .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-chrome {background-color: #FFFFFF;color: black;}.ace-chrome .ace_cursor {color: black;}.ace-chrome .ace_invisible {color: rgb(191, 191, 191);}.ace-chrome .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-chrome .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-chrome .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-chrome .ace_invalid {background-color: rgb(153, 0, 0);color: white;}.ace-chrome .ace_fold {}.ace-chrome .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-chrome .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-chrome .ace_support.ace_type,.ace-chrome .ace_support.ace_class.ace-chrome .ace_support.ace_other {color: rgb(109, 121, 222);}.ace-chrome .ace_variable.ace_parameter {font-style:italic;color:#FD971F;}.ace-chrome .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-chrome .ace_comment {color: #236e24;}.ace-chrome .ace_comment.ace_doc {color: #236e24;}.ace-chrome .ace_comment.ace_doc.ace_tag {color: #236e24;}.ace-chrome .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-chrome .ace_variable {color: rgb(49, 132, 149);}.ace-chrome .ace_xml-pe {color: rgb(104, 104, 91);}.ace-chrome .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-chrome .ace_heading {color: rgb(12, 7, 255);}.ace-chrome .ace_list {color:rgb(185, 6, 144);}.ace-chrome .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-chrome .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-chrome .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-chrome .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-chrome .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-chrome .ace_gutter-active-line {background-color : #dcdcdc;}.ace-chrome .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-chrome .ace_storage,.ace-chrome .ace_keyword,.ace-chrome .ace_meta.ace_tag {color: rgb(147, 15, 128);}.ace-chrome .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-chrome .ace_string {color: #1A1AA6;}.ace-chrome .ace_entity.ace_other.ace_attribute-name {color: #994409;}.ace-chrome .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}</style>
      <!-- export.css -->
      <style>
        body{margin:0 auto;max-width:800px;line-height:1.4}
        #nav{margin:5px 0 10px;font-size:15px}
        #titlearea{border-bottom:1px solid #ccc;font-size:17px;padding:10px 0;}
        #contentarea{font-size:15px;margin:16px 0}
        .cell{outline:0;min-height:20px;margin:5px 0;padding:5px 0;}
        .code-cell{font-family:Menlo,Consolas,'Ubuntu Mono',Monaco,'source-code-pro',monospace;font-size:12px;}
        .latex-cell{white-space:pre-wrap;}
      </style>
      <!-- User CSS -->
      <style> .text-cell {font-size: 15px;}.code-cell {font-size: 12px;}.markdown-cell {font-size: 15px;}.latex-cell {font-size: 15px;}</style>
    </head>
    <body>
      <div id="nav"><div>Next: <a href='GROUP BY.html'>GROUP BY</a>, Previous: <a href='What Is Ansible Good For.html'>What Is Ansible Good For?</a>, Up: <a href='index.html'>Index</a></div></div>
      <div id="titlearea">
        <h2>What Are the Parts of Ansible?</h2>
      </div>
      <div id="contentarea"><div class="cell text-cell"><b>Inventory</b>&nbsp;← <code>hosts.ini</code><div><ul><li>A set of potential targets hosts to <font color="#323232" style="background-color: rgb(254, 250, 0);">execute tasks</font> on</li><li>Ansible <font color="#323232" style="background-color: rgb(254, 250, 0);">must have a target</font> to do anything</li><li>Inventories are not specifically tied to a set of Ansible instructions.&nbsp;</li><ul><li>Multiple inventories can exist and be used at execution time.</li></ul></ul></div></div><div class="cell text-cell">An inventory is a collection of hosts; optionally sorted into groups potentially with variable data.<div><br></div><div>A simple inventory is just an uncategorized list of host names or IP addresses.<br></div><div><br></div><div>As the inventory grows, it is important to categorize them into groups, and subgroups for proper organization.</div><div><br></div><div>Hosts are grouped for many reasons:</div><div><ul><li>Purpose</li><li>Locality</li><li>Operating system</li></ul><div><br></div></div><div><b>Patterns</b> can be expressed as a single item or collections that are inclusive, exclusive or unioned.<br></div><div><ul><li>Hosts or groups are used in patterns as an entity to target or as an entity to skip from within a target.&nbsp;</li><li>Patterns support wild cards and even regular expressions.<br></li></ul></div></div><div class="cell text-cell"><img src="resources/43F519885F447917ADC9F4BCE599B696.jpg" alt="IMG_80905012B3F3-1.jpeg" width="545" height="333"></div><div class="cell text-cell">As <font color="#323232" style="background-color: rgb(254, 250, 0);">Ansible supports multiple inventories</font>, one can create automation using the same group names but different values within each inventory.<div><font color="#323232" style="background-color: rgb(254, 250, 0);">One can reference the group names in the patterns</font>, allowing one to quickly switch from testing in dev to deploying in production, simply by changing the inventory option.<br></div></div><div class="cell markdown-cell"><table>
<thead>
<tr>
<th>Simple</th>
<th>Groups</th>
<th>Subgroups</th>
</tr>
</thead>
<tbody>
<tr>
<td>server1.domain</td>
<td>[web]</td>
<td>[east:children]</td>
</tr>
<tr>
<td>server2.domain</td>
<td>server1.domain</td>
<td>web</td>
</tr>
<tr>
<td>server3.domain</td>
<td>server2.domain</td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td>[web:children]</td>
</tr>
<tr>
<td></td>
<td>[db]</td>
<td>db</td>
</tr>
<tr>
<td></td>
<td>server3.domain</td>
<td></td>
</tr>
</tbody>
</table>
</div><div class="cell text-cell"><b>Inventory variables</b><div>These variables contain data related to a host comprised of key in value pairs,</div><div>These variables are used in:</div><div><ul><li>Tasks</li><ul><li>Arguments</li></ul><li>Templates</li><ul><li>Configuration</li></ul><li>Ansible</li><ul><li>Behavior</li></ul></ul><div>Variables can be expressed directly in the inventory file alongside the host so that they are specific to that particular inventory.</div></div></div><div class="cell text-cell">Task Arguments:</div><div class="cell code-cell"><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_identifier">pip</span><span class="ace_punctuation ace_operator">:</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_identifier">name</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_paren ace_lparen">{{</span> <span class="ace_identifier">foo</span> <span class="ace_paren ace_rparen">}}</span>
</div></div></div></div><div class="cell text-cell">Templates Configuration:</div><div class="cell code-cell"><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_paren ace_lparen">[</span><span class="ace_identifier">database</span><span class="ace_paren ace_rparen">]</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_identifier">conn</span> <span class="ace_keyword ace_operator">=</span> <span class="ace_paren ace_lparen">{{</span> <span class="ace_identifier">db</span> <span class="ace_paren ace_rparen">}}</span>
</div></div></div></div><div class="cell text-cell">Ansible Behavior:</div><div class="cell code-cell"><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_identifier">ansible_user</span><span class="ace_keyword ace_operator">=</span><span class="ace_identifier">fred</span>
</div></div></div></div><div class="cell text-cell"><b>Inventory File</b></div><div class="cell text-cell">Expressed directly in the inventory file alongside the host so that they are specific to that particular inventory</div><div class="cell code-cell"><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_identifier">inventory</span><span class="ace_keyword ace_operator">/</span><span class="ace_identifier">hosts</span><span class="ace_punctuation ace_operator">:</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_paren ace_lparen">[</span><span class="ace_identifier">web</span><span class="ace_paren ace_rparen">]</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_identifier">myhost</span> <span class="ace_identifier">foo</span><span class="ace_keyword ace_operator">=</span><span class="ace_identifier">a_value</span>
</div></div></div></div><div class="cell text-cell"><b>Group Files</b>&nbsp;← Applies to multiple inventories</div><div class="cell text-cell">Expressed in separate files within inventory subdirectories allowing for the same variable data to apply to multiple inventories.</div><div class="cell code-cell"><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_identifier">inventory</span><span class="ace_keyword ace_operator">/</span><span class="ace_identifier">group_vars</span><span class="ace_keyword ace_operator">/</span><span class="ace_identifier">web</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">yaml</span><span class="ace_punctuation ace_operator">:</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_identifier">foo</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_identifier">different_value</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_identifier">inventory</span><span class="ace_keyword ace_operator">/</span><span class="ace_identifier">group_vars</span><span class="ace_keyword ace_operator">/</span><span class="ace_identifier">all</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">yaml</span><span class="ace_punctuation ace_operator">:</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_identifier">foo</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_identifier">default_value</span>
</div></div></div></div><div class="cell text-cell"><b>Variable Precedence Scope</b></div><div class="cell text-cell">Host &lt; Group &lt; Groups of Groups &lt; All Groups</div><div class="cell text-cell"><b>Inventory Sources</b><div>Inventories and the variables associated with them, can come from static or dynamic sources or even a blend of both.<br></div><div><br></div><div><u>Static</u></div><div><ul><li>Simple to start with</li></ul><div><u>Dynamic</u></div></div><div><ul><li><code>​</code>​Cloud<br></li><ul><li>OpenStack</li><li>Amazon AWS</li><li>Google Compute</li><li>Microsoft Azure</li><li>DigitalOcean</li></ul><li>Containers/VMs</li><ul><li>Docker</li><li>VMware</li><li>VirtualBox</li><li>Vagrant</li></ul><li>ssh_config</li></ul><div><br></div></div><div>Many other options are provided in Ansible's source repository. Ansible also provides documentation on how to create your own dynamic inventory scripts which is very useful if your fleet is already accounted for in an existing system.<br></div></div><div class="cell text-cell"><h3>Tasks<span style="font-weight: normal;">&nbsp;–&nbsp;</span><span style="font-size: 13px; font-weight: normal;">The actions Ansible takes on target hosts</span></h3><hr><ul><li>Descriptive of desired state</li><li>Expressed in YAML</li><li>Just enough abstraction</li></ul></div><div class="cell text-cell"><h3>Task Data<span style="font-weight: normal;">&nbsp;–&nbsp;</span><span style="font-size: 13px;"><span style="font-weight: normal;">Data can be considered arguments to an executable script</span></span></h3><hr>This could be the database to create or folder to create.<div><br><b>Database Creation</b><div><ul><li>CREATE DATABASE DERPBASE</li></ul><div><b>Folder Creation</b></div></div><div><ul><li>mkdir /path/to/derp</li></ul></div></div></div><div class="cell text-cell"><h3>Task Controls</h3><hr><div>Controls relate to the task itself and can influence things such as looping over the task multiple times with different data provided, whether or not to use privilege escalation on the target host, or whether the task should be executed at all.</div><div><br></div><div><ol><li><u><font color="#323232" style="background-color: rgb(254, 250, 0);">Looping</font></u> – <i>This is performed with different data provided</i></li><ol><li>Repeat task over a list of items</li></ol><li><u><font color="#323232" style="background-color: rgb(254, 250, 0);">Priviledge escalation</font></u> – <i>Accessing directories that require elevated permission</i></li><ol><li>Sudo to root or others</li></ol><li><u><font color="#323232" style="background-color: rgb(254, 250, 0);">Conditional execution</font></u> – <i>Does a file already exist?</i></li><ol><li>Runtime decisions</li></ol></ol><div><br></div></div><div>Ansible is not just a task repeater. It provides the ability to analyze and determine if a task should be performed.</div></div><div class="cell text-cell"><b>Task Return Data</b><div>Determines wether the task should be attempted or not.</div></div><div class="cell markdown-cell"><table>
<thead>
<tr>
<th>skipped</th>
<th>FALSE</th>
</tr>
</thead>
<tbody>
<tr>
<td>changed</td>
<td>TRUE</td>
</tr>
<tr>
<td>path</td>
<td>/derp</td>
</tr>
<tr>
<td>mode</td>
<td>755</td>
</tr>
</tbody>
</table>
</div><div class="cell text-cell"><b>Modules</b> – The code that tasks use to perform work.<div>Small bits of code that Ansible combines with common execution code and task argument input to be transported to the target host for execution.</div></div><div class="cell text-cell"><img src="resources/2B98913685568730946A77A11F5B88DF.jpg" alt="IMG_D7C0093CBEF2-1.jpeg" width="498" height="165"></div><div class="cell text-cell">Hundreds of modules are bundled with Ansible across a variety of categories; however, customer modules can be created.</div><div class="cell text-cell"><h3>Playbooks – Collection of Tasks</h3><hr>Used to parse and execute the playbook with a provided inventory.<br><ol><li>YAML files&nbsp;</li><ol><li>Collection of one or more plays</li></ol><li>Plays ← <i>One or more tasks linked to the hosts that are to be executed on</i></li><ol><li>Link tasks with target hosts</li></ol></ol></div><div class="cell text-cell">Create inventory<div><code>vim hosts</code></div></div><div class="cell code-cell"><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_paren ace_lparen">[</span><span class="ace_identifier">groupA</span><span class="ace_paren ace_rparen">]</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_identifier">host1</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_identifier">host2</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_identifier">host3</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_paren ace_lparen">[</span><span class="ace_identifier">groupB</span><span class="ace_paren ace_rparen">]</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_identifier">host4</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_identifier">host5</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_identifier">host6</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_paren ace_lparen">[</span><span class="ace_identifier">all</span><span class="ace_punctuation ace_operator">:</span><span class="ace_identifier">vars</span><span class="ace_paren ace_rparen">]</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_identifier">ansible_connection</span><span class="ace_keyword ace_operator">=</span><span class="ace_identifier">local</span>
</div></div></div></div><div class="cell text-cell">A YAML is a text file that any text editor will understand. have to include three dashes to indicate a YAML file.<div><br></div><div>demoplays.yaml</div></div><div class="cell code-cell"><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">---</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">-</span> <span class="ace_identifier">name</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_string ace_start">"</span><span class="ace_string">Do a demo</span><span class="ace_string ace_end">"</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_identifier">hosts</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_identifier">groupA</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_identifier">tasks</span><span class="ace_punctuation ace_operator">:</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_keyword ace_operator">-</span> <span class="ace_identifier">name</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_identifier">demo</span> <span class="ace_identifier">tasks</span> <span class="ace_constant ace_numeric">1</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_identifier">debug</span><span class="ace_punctuation ace_operator">:</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_identifier">msg</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_string ace_start">"</span><span class="ace_string">this is task 1</span><span class="ace_string ace_end">"</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_keyword ace_operator">-</span> <span class="ace_identifier">name</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_identifier">demo</span> <span class="ace_identifier">tasks</span> <span class="ace_constant ace_numeric">2</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_identifier">fail</span><span class="ace_punctuation ace_operator">:</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_identifier">msg</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_string ace_start">"</span><span class="ace_string">this is task 2</span><span class="ace_string ace_end">"</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>   <span class="ace_identifier">when</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_identifier">inventory_hostname</span> <span class="ace_keyword ace_operator">==</span> <span class="ace_string ace_start">"</span><span class="ace_string">host2</span><span class="ace_string ace_end">"</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_keyword ace_operator">-</span> <span class="ace_identifier">name</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_string ace_start">"</span><span class="ace_string">Do another demo</span><span class="ace_string ace_end">"</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_identifier">hosts</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_identifier">groupB</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_identifier">serial</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_constant ace_numeric">1</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>  <span class="ace_identifier">tasks</span><span class="ace_punctuation ace_operator">:</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_keyword ace_operator">-</span> <span class="ace_identifier">name</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_identifier">demo</span> <span class="ace_identifier">tasks</span> <span class="ace_constant ace_numeric">3</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_identifier">debug</span><span class="ace_punctuation ace_operator">:</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_identifier">msg</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_string ace_start">"</span><span class="ace_string">this is task 3</span><span class="ace_string ace_end">"</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span>    <span class="ace_keyword ace_operator">-</span> <span class="ace_identifier">name</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_identifier">demo</span> <span class="ace_identifier">tasks</span> <span class="ace_constant ace_numeric">4</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>  <span class="ace_identifier">debug</span><span class="ace_punctuation ace_operator">:</span>
</div><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_indent-guide">    </span>    <span class="ace_identifier">msg</span><span class="ace_punctuation ace_operator">:</span> <span class="ace_string ace_start">"</span><span class="ace_string">this is task 4</span><span class="ace_string ace_end">"</span>
</div></div></div></div><div class="cell text-cell"><code>ansible-playbook -i hosts demoplays.yaml</code></div><div class="cell text-cell"><h3>Task Conditionals</h3><hr><ul><li>Boolean statements</li><li>Evaluated for each target host</li><li>Executes task for host if true</li><li>Skips task for host if false</li></ul></div><div class="cell text-cell"><h3>Play Controls</h3><hr>Additional logic can be added to plays to control behavior, such as an alternate execution strategy, an acceptable amount of failure. where to use priviledge escalation, or more.<br><br><b>Strategy</b><div><ul><li>Serial</li><li>Free</li></ul><div><b>Max Fail</b></div></div><div><ul><li>Percentage</li><li>Number</li></ul><div><b>Priviledge</b></div></div><div><ul><li>sudo</li><li>su</li></ul></div></div><div class="cell text-cell"><font color="#323232" style="background-color: rgb(254, 250, 0);">Serial execution mode with a batch size of 1</font> – Each hosts is individually taken through all the tasks before operating on the next host.</div><div class="cell code-cell"><div class="ace-chrome"><div class="ace_static_highlight ace_show_gutter" style="counter-reset:ace_line 0"><div class="ace_line"><span class="ace_gutter ace_gutter-cell" unselectable="on"></span><span class="ace_identifier">ansible</span><span class="ace_keyword ace_operator">-</span><span class="ace_identifier">playbook</span> <span class="ace_keyword ace_operator">-</span><span class="ace_identifier">i</span> <span class="ace_identifier">hosts</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">ini</span> <span class="ace_identifier">prometheus</span><span class="ace_punctuation ace_operator">.</span><span class="ace_identifier">yml</span> <span class="ace_keyword ace_operator">-</span><span class="ace_identifier">u</span> <span class="ace_identifier">userID</span> <span class="ace_keyword ace_operator">--</span><span class="ace_identifier">ask</span><span class="ace_keyword ace_operator">-</span><span class="ace_identifier">pass</span> <span class="ace_keyword ace_operator">--</span><span class="ace_identifier">ask</span><span class="ace_keyword ace_operator">-</span><span class="ace_identifier">become</span><span class="ace_keyword ace_operator">-</span><span class="ace_identifier">pass</span> <span class="ace_keyword ace_operator">--</span><span class="ace_identifier">ask</span><span class="ace_keyword ace_operator">-</span><span class="ace_identifier">vault</span><span class="ace_keyword ace_operator">-</span><span class="ace_identifier">pass</span>
</div></div></div></div></div>
      <script>document.body.onkeyup = function(e) {
if (e.keyCode === 39) window.location.href = 'GROUP BY.html';
if (e.keyCode === 37) window.location.href = 'What Is Ansible Good For.html';
}</script>
    </body>
    </html>
  